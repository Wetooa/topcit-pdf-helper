LEARNING GUIDE: Pages 82-86
Generated: 2025-12-05 14:40:56
PDF: 4 - Understanding Information Security OCR

================================================================================
LEARNING GUIDE
================================================================================

Here's a simplified learning guide based on the provided text, designed for easy study:

---

## Secure Coding & Database Security Learning Guide

### I. C Language Security Vulnerabilities & Prevention

#### 1. Buffer Overflow Prevention (Page 82)

*   **Vulnerability:** Copying data into a fixed-size buffer (`char x[16]`) using functions like `memcpy` without checking the source size. This can lead to overwriting adjacent memory, including sensitive data or pointers (`void * y`), causing crashes or arbitrary code execution.
*   **Prevention:**
    1.  **Limit Copy Size:** When using `memcpy`, always specify the *exact* size of the destination buffer using `sizeof(destination_buffer)`.
        *   *Example:* `memcpy(cv_struct.x, SRC_STR, sizeof(cv_struct.x));` (Instead of `sizeof(SRC_STR)` which might be larger).
    2.  **Null-Terminate Strings:** After copying a string into a character array, ensure it is null-terminated. This prevents issues with string-handling functions.
        *   *Example:* `cv_struct.x[(sizeof(cv_struct.x)/sizeof(char))-1] = '\0';`

#### 2. Format String Insertion Attack Prevention (Page 82-83)

*   **Attack Overview:** This occurs when unverified external user input is directly used as the format string argument in input/output functions (e.g., `printf()`, `snprintf()`, `fprintf()`).
    *   **Impact:** Attackers can read or write memory content, potentially gaining control over the process or executing arbitrary code.
*   **Prevention (Coding Technique):**
    1.  **NEVER** use user input directly as the format string parameter in functions like `printf()` or `fprintf()`.
    2.  **NEVER** include user input directly in the creation of a format string.
    3.  If you need to output user-supplied data, use functions that treat the input purely as a string, not as a format specifier.
        *   **Safe Example:** Use `fputs(msg, stderr);` instead of `fprintf(stderr, msg);` when `msg` contains unvalidated user input. `fputs()` outputs the string literally without interpreting format specifiers.

### II. Android-Java Secure Coding Techniques (Page 83-84)

#### 1. Preventing Attacks on Externally Accessible Components

*   **Attack Overview:** If an Android application component (like a `service`, `activity`, `receiver`, or `provider`) has `android:exported="true"` in its `manifest.xml`, it can be activated by other applications from outside.
    *   **Impact:** This can lead to unintended execution of the component in unsecure situations, breaching system security.
*   **Prevention (Coding Technique):**
    *   **Do not set `android:exported="true"`** for components unless there's a specific, justified need for external access.
    *   Set `android:exported="false"` to block external access to the component. (Note: If a component has no intent filters, `exported` is `false` by default for API level 17+.)

#### 2. Preventing Access Control Pass Attack Using Shared ID

*   **Attack Overview:** If the `android:sharedUserId` attribute is set for the `<manifest>` tag in `AndroidManifest.xml`, other applications with the *same ID and signature* can access the program's data and information.
    *   **Impact:** This compromises the integrity and security of the application's data.
*   **Prevention (Coding Technique):**
    *   **Do not set the `android:sharedUserId` attribute** in your `AndroidManifest.xml`. Remove it entirely to prevent data leakage and inappropriate access.

### III. Database Security Management (Page 85-86)

#### 1. Importance & Context

*   Databases are crucial organizational assets, storing vast amounts of sensitive data (personal information, corporate secrets). They are prime targets for attackers.
*   **Recent Trends:** Growing legal requirements (e.g., Personal Information Protection Act mandating encryption for unique identifiers like resident registration numbers/SSNs).
*   **Challenges:** Database encryption can be costly, risky (potential for system failure), and may degrade performance.

#### 2. Learning Objectives

*   Understand core database security requirements.
*   Identify key control elements for database security.
*   Learn to select and apply cryptographic techniques for database encryption.

#### 3. Key Concepts & Keywords

*   **Virtual Tables (Views):** A database feature that can be used for access control by restricting what data (rows/columns) users can see from the underlying tables.
*   **Database Access Control:** Mechanisms to define and enforce who (users, roles) can perform what actions (read, write, delete) on which database objects.
*   **Encryption Methods:**
    *   **API Method:** Encryption handled at the application level using cryptographic Application Programming Interfaces.
    *   **Plug-in Method:** Database-specific encryption implemented as a plugin or module within the database system itself.
    *   **TDE (Transparent Data Encryption) Method:** Encrypts the entire database files at rest. It's "transparent" because applications interact with the database as if the data were unencrypted, and the encryption/decryption is handled by the database engine.
*   **Master Key:** A top-level cryptographic key used to encrypt other encryption keys, providing an extra layer of security.
*   **Key Life Cycle:** The entire process of managing encryption keys, including generation, storage, distribution, usage, backup, rotation, and destruction.
*   **HSM (Hardware Security Module):** A physical computing device that safeguards and manages digital keys and performs cryptographic functions (e.g., encryption, decryption, digital signing). Provides a highly secure environment for keys.
*   **Random Number Generator:** Essential for generating strong, unpredictable cryptographic keys, nonces, and other random values critical for security.

#### 4. Practical Considerations for Database Security (Example Scenario)

*   **Flexibility:** Database access control systems should be flexible and adaptable to frequent organizational and business changes.
*   **Legal Compliance:** Ensure uniquely identifiable information is encrypted within legal timeframes, adhering to privacy regulations (e.g., Personal Information Protection Act).
*   **Impact Analysis:** Before implementing database encryption, thoroughly analyze its potential impact on system performance and stability to prevent degradation or failure.

================================================================================
ORIGINAL TEXT (First 5000 chars)
================================================================================

--- Page 82 ---
ESSENCE
typedef  struct _charvoid  {
char x[16];
void * y;
void * z:
} charvoid
static void goodCode()  {
charvoid  cv_struct
cv_structy  = (void *) SRC_STR:
printLine((char  *) cv_struct.y);
Safe code /* Change  to sizeof(cv_struct.x)  to prevent  the overwriting  of pointer  y */
memepy(cv_struct.x,  SRC_STR,  sizeof(cv_struct.x)):
/* Insert a null character  to end with a string */
cv_struct.x[(sizeof(cv_struct.x)/sizeof(char))-1]  = ‘\0’;
printLine((char  *) cv_struct.x);
printLine((char  *) cv_struct.y);
}
To make a code secure,  first, modify  the code in a way that only the index within the allowed  range is used, by
using sizeof(cv_struct.x),  which calculates  an exact string, because  a string copy is limited to the field value x
within the struct. Second,  since the copied string should have the correct  null information,  the last index of the
array cv_struct.x,  which has the copied value, should be calculated  and padded  with a null character.
@ Secure  coding  techniques  for responding  to the format  string insertion  attack
+ Attack overview:
This security  weakness  could occur if the value entered from the outside is not verified and used as the
format string of the input/output  function.  An attacker  can attack a vulnerable  process,  or read or write
memory  content,  by using the format string. As a result, the attacker  can obtain the rights of the vulnerable
process  and execute  random  code.
+ Coding  technique:
When using the function  that uses a format string such as printf() and snprintf(),  the user input value should
not be used as a format string, or included  in format string creation.  When using the user input value for the
function that uses a format string, a structure  that enables  the user to change the format string should not
be used.
<Table 24> Code example
void incorrect_password(const  char *user) {
static const char msg_format[]  = “%s cannot  be authenticated.  \n’:
size_t len = strlen(user)  + sizeof(msg  format):
char *msg = (char *)malloc(len):
if (msg == NULL) {
/* Error handling  */
}
int ret = snprintf(msg,  len, msg format,  user):
Unsafe if (ret < 0 || ret >=len) {
code /* Error handling  */
}
fprintf(stderr, msg):
free(msg);
msg = NULL:
}
msg is vulnerable  to format  string insertion  because  it contains  an unreliable  user input and is passed as a
format  string argument,  when fprintf()  is called
82. TOPCIT  ESSENCE


--- Page 83 ---
Information  security )
void incorrect_password(const  char *user) {
static const char msg_format[]  = “%s cannot  be authenticated.  \n’:
size_t len = strlen(user)  + sizeof(msg_format):
char *msg = (char *)malloc(len);
if (msg == NULL) {
/* Error handling  */
}
int ret = snprintf(msg,  len, msg_format,  user);
if (ret < O || ret >= len) {
Safe code /* Error handling  */
}
if (fputs(msg,  stderr) == EOF) {
/* Error handling  */
}
free(msg);
msg = NULL;
}
The example  uses fputs(), instead of fprintf(),  to output msg as stderr, without  treating  is as a
format  string.
C) Major secure  coding  techniques  for Android-Java
@® Secure  coding  technique  for responding  to the attack against  the component  that can be accessed  from the outside
+ Attack overview:
If android: exported="true’”  is set in the manifest.xml  file for the component  of the Android application,
intent can be transferred  to the component,  from outside,  to activate  it. In this case, system  security  can be
breached,  because  the company  starts execution  in an unintended  situation.
* Coding  technique:
It is desirable  to not give the access  rights to the component  to the outside.
<Table 25> Code example
<manifest  xmins:---.>
<application  android:icon="@drawable/icon”  android:label="@string/label’>
<service  android:name=".syncadapterSyncService”  android:exported="true’>
Unsafe code | . Japplication>
</manifest>
Since the attribute  value of the SyncService  service is set to android:exported="true”,  a security  vulnerability
may occur when the component  is started  from outside.
<manifest  xmins:---.>
<application  android:icon="@drawable/icon”  android:label="@string/label’>
<service  android:name="  syncadapterSyncService”  android:exported=false”>
Safe code | </appjication>
</manifest>
If the Android:exported  property  is set to “false” or the setting  is removed,  the attribute  becomes  “false” and
access  from the outside  is blocked.
@ Secure  coding  techniques  for responding  to the access  control pass attack, using the shared ID
+ Attack overview:
M4 Understanding  Information  Security  83


--- Page 84 ---
ESSENCE
If the android:
programs  cansharedUserld  attribute  is set for the manifest  tag in the Manifest.xml  file, other application
access the information  of the program by using the same ID and signature.  Due to this
weakness,  the integrity  and security  of the program  may be intentionally  and unintentionally  breached.
+ Coding  technique:
It is desirable  to not set a shared ...
